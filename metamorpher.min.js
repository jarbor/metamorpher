!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.metamorpher=n():t.metamorpher=n()}("undefined"!=typeof self?self:this,function(){return function(t){function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function s(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,n,e){return n&&s(t.prototype,n),e&&s(t,e),t}Object.defineProperty(n,"__esModule",{value:!0}),n.Edge=n.Point=n.Instruction=n.Path=void 0;var o=function(){function t(n){var e=this;if(i(this,t),this.instructions=[],n instanceof t)this.element=n.element,n.instructions.forEach(function(t){return e.instructions.push(new u(t))});else{var s;"string"==typeof n?s=n:(s=n.getAttribute("d"),this.element=n),s.split(" ").forEach(this.pushData,this)}}return r(t,[{key:"pushData",value:function(t){""===t||(isNaN(t)?this.instructions.push(new u(t)):this.instructions[this.instructions.length-1].pushData(Number(t)))}},{key:"attach",value:function(t){return this.element=t,this}},{key:"detach",value:function(){return delete this.element,this}},{key:"paint",value:function(){return this.element&&this.element.setAttribute("d",this.toString()),this}},{key:"toString",value:function(){return this.instructions.reduce(function(t,n){return"".concat(t," ").concat(n)},"")}},{key:"scale",value:function(t,n){return this.instructions.forEach(function(e){return e.scale(t,n)}),this}},{key:"rotate",value:function(t,n){return this.instructions.forEach(function(e){return e.rotate(t,n)}),this}},{key:"transform",value:function(t){return this.instructions.forEach(function(n,e){return n.transform(t.instructions[e])}),this}},{key:"translate",value:function(t,n){return this.instructions.forEach(function(e){return e.translate(t,n)}),this}},{key:"interpolate",value:function(t,n,e){return this.instructions.forEach(function(i,s){return i.interpolate(t.instructions[s],n.instructions[s],e)}),this}},{key:"longestEdge",get:function(){var t,n,e=[],i=0;return this.instructions.forEach(function(n){var i=n.lastPoint;"L"===n.type&&e.push(new h(t,i)),t=i}),e.forEach(function(t){t.length>i&&(n=t,i=t.length)}),n}}]),t}();n.Path=o;var u=function(){function t(){if(i(this,t),arguments[0]instanceof t)this.type=arguments[0].type,this.points=arguments[0].points.map(function(t){return new a(t)});else{this.points=[];Array.prototype.slice.call(arguments).forEach(this.pushData.bind(this))}}return r(t,[{key:"pushData",value:function(t){"string"==typeof t?this.type=t:this.nextIncompletePoint.pushData(t)}},{key:"toString",value:function(){return this.points.reduce(function(t,n){return"".concat(t," ").concat(n)},this.type)}},{key:"scale",value:function(t,n){return this.points.forEach(function(e){return e.scale(t,n)}),this}},{key:"rotate",value:function(t,n){return this.points.forEach(function(e){return e.rotate(t,n)}),this}},{key:"transform",value:function(t){return this.points.forEach(function(n,e){return n.transform(t.points[e])}),this}},{key:"translate",value:function(t,n){return this.points.forEach(function(e){return e.translate(t,n)}),this}},{key:"interpolate",value:function(t,n,e){return this.points.forEach(function(i,s){return i.interpolate(t.points[s],n.points[s],e)}),this}},{key:"nextIncompletePoint",get:function(){var t;return this.points.length&&void 0===this.points[this.points.length-1].y?t=this.points[this.points.length-1]:(t=new a,this.points.push(t)),t}},{key:"lastPoint",get:function(){return this.points.length?this.points[this.points.length-1]:void 0}}]),t}();n.Instruction=u;var a=function(){function t(){if(i(this,t),arguments[0]instanceof t)this.x=arguments[0].x,this.y=arguments[0].y;else{Array.prototype.slice.call(arguments).forEach(this.pushData.bind(this))}}return r(t,[{key:"pushData",value:function(t){if(void 0===this.x)this.x=t;else{if(void 0!==this.y)throw new Error("Can't push ".concat(t," - coordinates already defined: ").concat(this));this.y=t}}},{key:"toString",value:function(){return"".concat(this.x," ").concat(this.y)}},{key:"scale",value:function(n,e){e=e||new t(0,0),this.x=(this.x-e.x)*n+e.x,this.y=(this.y-e.y)*n+e.y}},{key:"rotate",value:function(n,e){e=e||new t(0,0);var i=n*Math.PI/180,s=Math.sin(i),r=Math.cos(i),o=this.x-e.x,u=this.y-e.y,a=o*r-u*s,h=o*s+u*r;this.x=a+e.x,this.y=h+e.y}},{key:"transform",value:function(t){this.instruction=t.instruction,this.x=t.x,this.y=t.y}},{key:"translate",value:function(t,n){this.x+=t,this.y+=n}},{key:"interpolate",value:function(t,n,e){this.x=(n.x-t.x)*e+t.x,this.y=(n.y-t.y)*e+t.y}}]),t}();n.Point=a;var h=function(){function t(n,e){i(this,t),this.p1=n,this.p2=e}return r(t,[{key:"length",get:function(){return this._length||(this._length=Math.sqrt(Math.pow(Math.abs(this.p1.x-this.p2.x),2)+Math.pow(Math.abs(this.p1.y-this.p2.y),2))),this._length}},{key:"angle",get:function(){return this._angle||(this._angle=(this.p1.y-this.p2.y)/(this.p1.x-this.p2.x)),this._angle}}]),t}();n.Edge=h}])});