!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.metamorpher=e():t.metamorpher=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Edge=e.Point=e.Instruction=e.Path=void 0;var c=Object.getPrototypeOf||function(t){return t.__proto__},h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f="object"===r(Reflect)&&Reflect.construct||function(t,e,n){var r,o=[null];return o.push.apply(o,e),r=t.bind.apply(t,o),h(new r,n.prototype)},l="function"==typeof Map&&new Map,p=function(t){function e(){return o(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),u(e,[{key:"pushData",value:function(t){""===t||(isNaN(t)?this.push(new y(t)):this[this.length-1].pushData(Number(t)))}},{key:"attach",value:function(t){return this.element=t,this}},{key:"detach",value:function(){return delete this.element,this}},{key:"paint",value:function(){return this.element&&this.element.setAttribute("d",this.toString()),this}},{key:"toString",value:function(){return this.reduce(function(t,e){return"".concat(t," ").concat(e)},"")}},{key:"scale",value:function(t,e){return this.forEach(function(n){return n.scale(t,e)}),this}},{key:"rotate",value:function(t,e){return this.forEach(function(n){return n.rotate(t,e)}),this}},{key:"transform",value:function(t){return this.forEach(function(e,n){return e.transform(t[n])}),this}},{key:"translate",value:function(t,e){return this.forEach(function(n){return n.translate(t,e)}),this}},{key:"interpolate",value:function(t,e,n){return this.forEach(function(r,o){return r.interpolate(t[o],e[o],n)}),this}},{key:"longestEdge",get:function(){if(!this._longestEdge){var t,e,n=[],r=0;this.forEach(function(e){"L"===e.instruction&&n.push(new b(t,e)),t=e}),n.forEach(function(t){t.length>r&&(e=t,r=t.length)}),this._longestEdge=e}return this._longestEdge}}],[{key:"make",value:function(t){var n=new e;if(t instanceof e)n.element=t.element,t.forEach(function(t){return n.push(new y(t))});else{var r;"string"==typeof t?r=t:(r=t.getAttribute("d"),n.element=t),r.split(" ").forEach(n.pushData,n)}return n}}]),e}(function(t){function e(){}if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==l){if(l.has(t))return l.get(t);l.set(t,e)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writeable:!0,configurable:!0}}),h(e,h(function(){return f(t,arguments,c(this).constructor)},t))}(Array));e.Path=p;var y=function(){function t(){if(o(this,t),arguments[0]instanceof t)this.type=arguments[0].type,this.points=arguments[0].points.map(function(t){return new v(t)});else{this.points=[];Array.prototype.slice.call(arguments).forEach(this.pushData.bind(this))}}return u(t,[{key:"pushData",value:function(t){"string"==typeof t?this.type=t:this.nextIncompletePoint.pushData(t)}},{key:"toString",value:function(){return this.points.reduce(function(t,e){return"".concat(t," ").concat(e)},this.type)}},{key:"scale",value:function(t,e){return this.points.forEach(function(n){return n.scale(t,e)}),this}},{key:"rotate",value:function(t,e){return this.points.forEach(function(n){return n.rotate(t,e)}),this}},{key:"transform",value:function(t){return this.points.forEach(function(e,n){return e.transform(t.points[n])}),this}},{key:"translate",value:function(t,e){return this.points.forEach(function(n){return n.translate(t,e)}),this}},{key:"interpolate",value:function(t,e,n){return this.points.forEach(function(r,o){return r.interpolate(t.points[o],e.points[o],n)}),this}},{key:"nextIncompletePoint",get:function(){var t;return this.points.length&&void 0===this.points[this.points.length-1].y?t=this.points[this.points.length-1]:(t=new v,this.points.push(t)),t}}]),t}();e.Instruction=y;var v=function(){function t(){if(o(this,t),arguments[0]instanceof t)this.x=arguments[0].x,this.y=arguments[0].y;else{Array.prototype.slice.call(arguments).forEach(this.pushData.bind(this))}}return u(t,[{key:"pushData",value:function(t){if(void 0===this.x)this.x=t;else{if(void 0!==this.y)throw new Error("Can't push ".concat(t," - coordinates already defined: ").concat(this));this.y=t}}},{key:"toString",value:function(){return"".concat(this.x," ").concat(this.y)}},{key:"scale",value:function(e,n){n=n||new t(0,0),this.x=(this.x-n.x)*e+n.x,this.y=(this.y-n.y)*e+n.y}},{key:"rotate",value:function(e,n){n=n||new t(0,0);var r=e*Math.PI/180,o=Math.sin(r),i=Math.cos(r),u=this.x-n.x,s=this.y-n.y,a=u*i-s*o,c=u*o+s*i;this.x=a+n.x,this.y=c+n.y}},{key:"transform",value:function(t){this.instruction=t.instruction,this.x=t.x,this.y=t.y}},{key:"translate",value:function(t,e){this.x+=t,this.y+=e}},{key:"interpolate",value:function(t,e,n){this.x=(e.x-t.x)*n+t.x,this.y=(e.y-t.y)*n+t.y}}]),t}();e.Point=v;var b=function(){function t(e,n){o(this,t),this.p1=e,this.p2=n}return u(t,[{key:"length",get:function(){return this._length||(this._length=Math.sqrt(Math.pow(Math.abs(this.p1.x-this.p2.x),2)+Math.pow(Math.abs(this.p1.y-this.p2.y),2))),this._length}},{key:"angle",get:function(){return this._angle||(this._angle=(this.p1.y-this.p2.y)/(this.p1.x-this.p2.x)),this._angle}}]),t}();e.Edge=b}])});